<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pomodoro Timer</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
<div class="container">
  <h1>Pomodoro</h1>

  <!-- Mode tabs -->
  <div class="tabs">
    <button class="tab active-work" onclick="setMode('work')">Focus</button>
    <button class="tab" onclick="setMode('short')">Short Break</button>
    <button class="tab" onclick="setMode('long')">Long Break</button>
  </div>

  <!-- Task input -->
  <div class="task-input">
    <input type="text" id="task" placeholder="Add a task..." onkeydown="if(event.key==='Enter')addTask()" />
    <button onclick="addTask()">+</button>
  </div>

  <!-- Task list -->
  <div class="task-list" id="task-list"></div>

  <!-- Timer settings -->
  <div class="settings">
    <button class="settings-toggle" onclick="toggleSettings()">⚙️ Timer Settings</button>
    <div class="settings-panel" id="settings-panel">
      <div class="setting-row"><span>Focus (min)</span><input type="number" id="set-work" value="25" min="1" max="120"></div>
      <div class="setting-row"><span>Short Break (min)</span><input type="number" id="set-short" value="5" min="1" max="60"></div>
      <div class="setting-row"><span>Long Break (min)</span><input type="number" id="set-long" value="15" min="1" max="60"></div>
      <button onclick="applySettings()">Apply</button>
    </div>
  </div>

  <!-- Circular timer -->
  <div class="timer-ring">
    <svg width="280" height="280">
      <circle class="ring-bg" cx="140" cy="140" r="130"></circle>
      <circle class="ring-progress ring-work" id="ring" cx="140" cy="140" r="130"
        stroke-dasharray="816.81" stroke-dashoffset="0"></circle>
    </svg>
    <div class="timer-text">
      <div class="time" id="time">25:00</div>
      <div class="label" id="label">Focus Time</div>
    </div>
  </div>

  <!-- Controls -->
  <div class="controls">
    <button class="btn" onclick="resetTimer()" title="Reset">↺</button>
    <button class="btn btn-start work" id="start-btn" onclick="toggleTimer()">START</button>
    <button class="btn" onclick="skipTimer()" title="Skip">⏭</button>
  </div>

  <!-- Session dots & stats -->
  <div class="sessions" id="sessions"></div>
  <div class="stats">
    <span id="stats">0 sessions completed today</span>
    <button class="settings-toggle" onclick="resetSessions()" style="font-size:10px;padding:2px 8px;margin-left:4px">Reset</button>
  </div>
</div>

<!-- Scripts loaded in dependency order -->
<script src="js/timer.js"></script>     <!-- State & core logic (MODES, tick, controls) -->
<script src="js/ui.js"></script>        <!-- DOM update functions -->
<script src="js/tasks.js"></script>     <!-- Task list logic -->
<script src="js/settings.js"></script>  <!-- Settings panel logic -->
<script src="js/app.js"></script>       <!-- Initialization (runs last) -->
</body>
</html>
